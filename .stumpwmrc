(in-package #:stumpwm)

(defparameter *SLIME-DIR* "/home/octocat/.emacs.d/el-get/slime/")
(defparameter *CL-USER-DIR* "/home/octocat/.commonlisp/")
(defparameter *STUMPWM-LIB-DIR* "/home/octocat/.stumpwm.d/")
(defparameter *STUMPWM-GIT-DIR* (concatenate 'string *CL-USER-DIR* "stumpwm-git/"))

(defun load-config-module (name)
  (load (concatenate 'string *STUMPWM-LIB-DIR* name)))

(defun load-contrib (name)
  (load (concatenate 'string *STUMPWM-LIB-DIR* "contribs/" name)))

(load (concatenate 'string *SLIME-DIR* "swank-loader.lisp"))
(swank-loader:init) ;; Load swank.;; *prefix-key* ; swank will kick this off

(pushnew "/home/octocat/.commonlisp/clx-xkeyboard/" asdf:*central-registry*)

(setf *contrib-dir* (concatenate 'string *CL-USER-DIR* "stumpwm-contrib/"))
(init-load-path *contrib-dir*)

(load-module "battery")
(load-module "cpu")
(load-module "disk")
(load-module "mem")
(load-module "net")
(load-module "wifi")
(load-module "screenshot")
(load-module "notifications")
(load-module "ttf-fonts")
(load-module "globalwindows")
(load-module "urgentwindows")
(load-module "searchengines")
(load-contrib "perwindowlayout.lisp")

(load-config-module "constants.lisp")
(load-config-module "variables.lisp")
(load-config-module "defuns.lisp")
(load-config-module "commands.lisp")
(load-config-module "keydefs.lisp")
(load-config-module "groups.lisp")
(load-config-module "searches.lisp")
(load-config-module "private.lisp")

;; (xft:cache-fonts)
(set-font (make-instance 'xft:font :family "Consolas" :subfamily "Regular" :size 10))
(enable-mode-line-all-heads)
(run-commands "enable-per-window-layout")
